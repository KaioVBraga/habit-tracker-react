(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{112:function(n,e){},114:function(n,e){},137:function(n,e,t){},138:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(21),i=t.n(o),l=t(4),c=(t(87),t(15)),u=t(5),s=t(69),m=t.n(s),d=t(70),f=t.n(d),b=t(71),g=t.n(b),p=t(1),h=t(2);function v(){var n=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    margin: 3.2rem 0;\n\n    & > a:first-of-type {\n        margin-right: 1.6rem;\n        background: var(--color-primary-lighter);\n    }\n\n    & > a:first-of-type:hover {\n        background: var(--color-primary-light);\n    }\n\n    & > a:last-of-type {\n        background: var(--color-secundary);\n    }\n\n    & > a:last-of-type:hover {\n        background: var(--color-secundary-dark);\n    }\n\n    & > a {\n        width: 30rem;\n        height: 10.4rem;\n        border-radius: 0.8rem;\n        margin-right: 1.6rem;\n        font: 700 2rem Archivo;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        text-decoration: none;\n        color: var(--color-button-text);\n        transition: background-color 0.2s;\n    }\n\n    & > a > img {\n        width: 4rem;\n        margin-right: 2.4rem;\n    }\n\n    @media (min-width: 1100px) {\n        grid-area: buttons;\n        justify-content: flex-start;\n\n        & > a {\n            font-size: 2.4rem;\n        }\n    }\n"]);return v=function(){return n},n}function x(){var n=Object(p.a)(["\n    width: 100%;\n\n    @media (min-width: 1100px) {\n        grid-area: hero;\n        justify-self: end;\n    }\n"]);return x=function(){return n},n}function y(){var n=Object(p.a)(["\n    text-align: center;\n    margin-bottom: 3.2rem;\n\n    & > h1 {\n        font-family: 'Saira Semi Condensed';\n        font-size: 9.8rem;\n    }\n\n    & > h2 {\n        font-weight: 500;\n        font-size: 2.4rem;\n        line-height: 4.6rem;\n        margin-top: 0.8rem;\n    }\n\n    @media (min-width: 1100px) {\n        grid-area: logo;\n        align-self: center;\n        text-align: left;\n        margin: 0;\n\n        & > h2 {\n            text-align: initial;\n            font-size: 3.6rem;\n        }\n    }\n"]);return y=function(){return n},n}function E(){var n=Object(p.a)(['\n    width: 90vw;\n    max-width: 700px;\n    \n    @media (min-width: 1100px) {\n        max-width: 1100px;\n        display: grid;\n        grid-template-rows: 350px 1fr;\n        grid-template-columns: 2fr 1fr 1fr;\n        grid-template-areas:\n            "logo hero hero"\n            "buttons buttons total";\n    }\n']);return E=function(){return n},n}function j(){var n=Object(p.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: var(--color-text-in-primary);\n    background-color: var(--color-primary);\n"]);return j=function(){return n},n}var O=h.a.div(j()),k=h.a.div(E()),w=h.a.div(y()),S=h.a.img(x()),C=h.a.div(v()),I=function(){return r.a.createElement(O,null,r.a.createElement(k,null,r.a.createElement(w,null,r.a.createElement("h1",null,"Habit Tracker"),r.a.createElement("h2",null,"Tome o controle da sua vida.")),r.a.createElement(S,{src:m.a,alt:"Plataforma de estudos online."}),r.a.createElement(C,null,r.a.createElement(c.b,{to:"/signin"},r.a.createElement("img",{src:f.a,alt:"Study"}),"Logar"),r.a.createElement(c.b,{to:"/signup"},r.a.createElement("img",{src:g.a,alt:"Give Lessons"}),"Cadastrar"))))},D=t(13),M=t.n(D),A=t(18),T=t(3),N=t(75),H=t.n(N),z=(t(90),function(n){return r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"top-bar-container"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:H.a,alt:"back"})),r.a.createElement("span",{style:{fontFamily:"Saira Semi Condensed",fontSize:"2rem"}},"Habit Tracker")),r.a.createElement("div",{className:"header-content"},r.a.createElement("strong",null,n.title),n.description&&r.a.createElement("p",null,n.description),n.children))}),_=t(32),q=(t(91),function(n){var e=n.label,t=n.name,a=Object(_.a)(n,["label","name"]);return r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:t},e),r.a.createElement("input",Object.assign({type:"text",id:t,name:t},a)))}),J=t(41),F=t.n(J),L=t(42),P=t.n(L),R=F.a.create({baseURL:"http://localhost:3333/",httpsAgent:new P.a.Agent({rejectUnauthorized:!1})}),G=(F.a.create({baseURL:"http://localhost:3333/",httpsAgent:new P.a.Agent({rejectUnauthorized:!1})}),R),B=t(8),Q=t.n(B),W=t(30),Y=t.n(W);function U(){var n=Object(p.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    max-width: 700px;\n\n    & > .page-header > .header-content {\n        margin-bottom: 6.4rem;\n    }\n\n    & > main {\n        background: var(--color-box-base);\n        width: 100%;\n        max-width: 74rem;\n        border-radius: 0.8rem;\n        margin: -3.2rem auto 3.2rem;\n        padding-top: 6.4rem;\n        overflow: hidden;\n\n        & > form {\n            & > fieldset {\n                border: 0;\n                padding: 0 2.4rem;\n\n                & > .input-block + .textarea-block,\n                & > .select-block + .input-block {\n                    margin-top: 2.4rem;\n                }\n            \n                & > legend {\n                    font: 700 2.4rem Archivo;\n                    color: var(--color-text-title);\n                    margin-bottom: 2.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    width: 100%;\n                    padding-bottom: 1.6rem;\n                    border-bottom: 1px solid var(--color-line-in-white);\n\n                    & > button {\n                        background: none;\n                        border: none;\n                        color: var(--color-primary);\n                        font: 700 1.6rem Archivo;\n                        cursor: pointer;\n                        transition: color 0.2s;\n                        \n                        &:hover {\n                            color: var(--color-primary-dark);\n                        }\n                    }\n                }\n\n                & > label {\n                    color: var(--color-text-complement);\n                }\n            }\n\n            & > fieldset + fieldset {\n                margin-top: 6.4rem;\n            }\n\n            & > footer {\n                padding: 4rem 2.4rem;\n                background: var(--color-box-footer);\n                border-top: 1px solid var(--color-line-in-white);\n                margin-top: 6.4rem;\n\n                & > p {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 1.4rem;\n                    line-height: 2.4rem;\n                    color: var(--color-text-complement);\n\n                    & > img {\n                        margin-right: 2rem;\n                    }\n                }\n\n                & > button {\n                    width: 100%;\n                    height: 5.6rem;\n                    background: var(--color-secundary);\n                    color: var(--color-button-text);\n                    border: 0;\n                    border-radius: 0.8rem;\n                    cursor: pointer;\n                    font: 700 1.6rem Archivo;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-decoration: none;\n                    transition: background-color 0.2s;\n                    margin-top: 3.2rem;\n\n                    &:hover {\n                        background: var(--color-secundary-dark);\n                    }\n                }\n            }\n        } \n    }\n\n    @media (min-width: 700px) {\n        max-width: 100vw;\n\n         & > .page-header > .header-content {\n            margin-bottom: 0;\n        }\n\n        & > main {\n            & > form  {\n                & > fieldset {\n                    padding: 0 6.4rem;\n                }\n\n                & > .schedule-item {\n                    display: grid;\n                    grid-template-columns: 2fr 1fr 1fr;\n                    column-gap: 1.6rem;\n\n                    & > .input-block {\n                        margin-top: 0 !important;\n                    }\n                }\n\n                & > footer {\n                    padding: 4rem 6.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n\n                    & > p {\n                        justify-content: space-between;\n                    }\n\n                    & > button {\n                        width: 20rem;\n                        margin-top: 0;\n                    }\n                }\n            }\n        }\n    }\n"]);return U=function(){return n},n}var K=h.a.div(U()),V=function(){var n=Object(u.e)(),e=Object(a.useState)(""),t=Object(T.a)(e,2),o=t[0],i=t[1],l=Object(a.useState)(""),c=Object(T.a)(l,2),s=c[0],m=c[1],d=Object(a.useCallback)(function(){var e=Object(A.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G.post("session/login",{email:o,password:s});case 4:a=e.sent.data,localStorage.setItem("habit_user",JSON.stringify(a)),n.push("/profile"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),Q()("Erro no Login","Senha ou email incorretos","error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),[o,n,s]);return r.a.createElement(K,null,r.a.createElement(z,{title:"Retome o controle!",description:"Logue e veja o andamento dos seus h\xe1bitos."}),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:d},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Seus dados"),r.a.createElement(q,{name:"email",label:"Email",value:o,onChange:function(n){i(n.target.value)}}),r.a.createElement(q,{name:"password",label:"Senha",type:"password",value:s,onChange:function(n){m(n.target.value)}})),r.a.createElement("footer",null,r.a.createElement("p",null,r.a.createElement("img",{src:Y.a,alt:"Warning"}),"Importante! ",r.a.createElement("br",null),"Preencha todos os campos"),r.a.createElement("button",{type:"submit"},"Logar")))))};function X(){var n=Object(p.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    max-width: 700px;\n\n    & > .page-header > .header-content {\n        margin-bottom: 6.4rem;\n    }\n\n    & > main {\n        background: var(--color-box-base);\n        width: 100%;\n        max-width: 74rem;\n        border-radius: 0.8rem;\n        margin: -3.2rem auto 3.2rem;\n        padding-top: 6.4rem;\n        overflow: hidden;\n\n        & > form {\n            & > fieldset {\n                border: 0;\n                padding: 0 2.4rem;\n\n                & > .input-block + .textarea-block,\n                & > .select-block + .input-block {\n                    margin-top: 2.4rem;\n                }\n            \n                & > legend {\n                    font: 700 2.4rem Archivo;\n                    color: var(--color-text-title);\n                    margin-bottom: 2.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    width: 100%;\n                    padding-bottom: 1.6rem;\n                    border-bottom: 1px solid var(--color-line-in-white);\n\n                    & > button {\n                        background: none;\n                        border: none;\n                        color: var(--color-primary);\n                        font: 700 1.6rem Archivo;\n                        cursor: pointer;\n                        transition: color 0.2s;\n                        \n                        &:hover {\n                            color: var(--color-primary-dark);\n                        }\n                    }\n                }\n\n                & > label {\n                    color: var(--color-text-complement);\n                }\n            }\n\n            & > fieldset + fieldset {\n                margin-top: 6.4rem;\n            }\n\n            & > footer {\n                padding: 4rem 2.4rem;\n                background: var(--color-box-footer);\n                border-top: 1px solid var(--color-line-in-white);\n                margin-top: 6.4rem;\n\n                & > p {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 1.4rem;\n                    line-height: 2.4rem;\n                    color: var(--color-text-complement);\n\n                    & > img {\n                        margin-right: 2rem;\n                    }\n                }\n\n                & > button {\n                    width: 100%;\n                    height: 5.6rem;\n                    background: var(--color-secundary);\n                    color: var(--color-button-text);\n                    border: 0;\n                    border-radius: 0.8rem;\n                    cursor: pointer;\n                    font: 700 1.6rem Archivo;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-decoration: none;\n                    transition: background-color 0.2s;\n                    margin-top: 3.2rem;\n\n                    &:hover {\n                        background: var(--color-secundary-dark);\n                    }\n                }\n            }\n        } \n    }\n\n    @media (min-width: 700px) {\n        max-width: 100vw;\n\n         & > .page-header > .header-content {\n            margin-bottom: 0;\n        }\n\n        & > main {\n            & > form  {\n                & > fieldset {\n                    padding: 0 6.4rem;\n                }\n\n                & > .schedule-item {\n                    display: grid;\n                    grid-template-columns: 2fr 1fr 1fr;\n                    column-gap: 1.6rem;\n\n                    & > .input-block {\n                        margin-top: 0 !important;\n                    }\n                }\n\n                & > footer {\n                    padding: 4rem 6.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n\n                    & > p {\n                        justify-content: space-between;\n                    }\n\n                    & > button {\n                        width: 20rem;\n                        margin-top: 0;\n                    }\n                }\n            }\n        }\n    }\n"]);return X=function(){return n},n}var Z=h.a.div(X()),$=function(){var n=Object(u.e)(),e=Object(a.useState)(""),t=Object(T.a)(e,2),o=t[0],i=t[1],l=Object(a.useState)(""),c=Object(T.a)(l,2),s=c[0],m=c[1],d=Object(a.useState)(""),f=Object(T.a)(d,2),b=f[0],g=f[1],p=function(){var e=Object(A.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G.post("session/register",{name:o,email:s,password:b});case 4:a=e.sent.data,localStorage.setItem("habit_user",JSON.stringify(a)),n.push("/profile"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),409===e.t0.response.status&&Q()("Email j\xe1 cadastrado !","Por favor, insira outro email.","error"),404===e.t0.response.status&&Q()("Erro no formul\xe1rio !","Por favor, reveja os campos.","error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Z,null,r.a.createElement(z,{title:"Seja o mestre do seu destino!",description:"O primeiro passo \xe9 preencher este formul\xe1rio de incri\xe7\xe3o."}),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:p},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Seus dados"),r.a.createElement(q,{name:"name",label:"Nome completo",value:o,onChange:function(n){return i(n.target.value)}}),r.a.createElement(q,{name:"email",label:"Email",value:s,onChange:function(n){return m(n.target.value)}}),r.a.createElement(q,{name:"password",label:"Senha",type:"password",value:b,onChange:function(n){return g(n.target.value)}})),r.a.createElement("footer",null,r.a.createElement("p",null,r.a.createElement("img",{src:Y.a,alt:"Warning"}),"Importante! ",r.a.createElement("br",null),"Preencha todos os campos"),r.a.createElement("button",{type:"submit"},"Cadastrar")))))},nn=t(7),en=t(76),tn=t(11);function an(){var n=Object(p.a)(["\n    font-size: 56px;\n    margin: 64px 0 0 16px;\n    cursor: pointer;\n"]);return an=function(){return n},n}function rn(){var n=Object(p.a)(["\n    font-size: 56px;\n    margin: 64px 16px 0 0;\n    cursor: pointer;\n"]);return rn=function(){return n},n}function on(){var n=Object(p.a)(["\n    width: 100%;\n    height: 100%;\n    padding: 2.5rem;\n    background-color:  ",";\n    color:  ",";\n    cursor: ",";\n    transition: all 0.15s ease-in-out;\n    display: flex;\n    justify-content: center;\n    font-size: 20px;\n    user-select: none;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return on=function(){return n},n}function ln(){var n=Object(p.a)(["\n    width: 600px;\n    background-color: #cecece;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n    grid-column-gap: 5px;\n    grid-row-gap: 5px;\n"]);return ln=function(){return n},n}function cn(){var n=Object(p.a)(["\n    margin-top: 5rem;\n    margin-bottom: 40vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    & > section {\n        & > h2 {\n            text-align: center;\n            margin-bottom: 2.5rem;\n        }\n\n        & > ul {\n            display: flex;\n            list-style: none;\n            justify-content: space-around;\n            margin-bottom: 0.5rem;\n        }\n    }\n"]);return cn=function(){return n},n}var un=h.a.div(cn()),sn=h.a.div(ln()),mn=h.a.div(on(),(function(n){return n.isDeadend?"#000":n.inMonth?n.inFrequency?(n.inGoal||n.isToday&&0!==n.value)&&n.inFrequency?"hsl(".concat(120*(n.value||0),", 51%, 61%)"):n.isToday?"#6868ce":"#dfdfdf":"#bababa":"#cacaca"}),(function(n){return!n.inFrequency&&n.inMonth?"#999999":n.inMonth?n.isToday||n.inGoal||n.isDeadend?"#ffffff":void 0:"#cacaca"}),(function(n){return n.inMonth?"pointer":"default"}),(function(n){return n.inMonth&&"#bababa"})),dn=Object(h.a)(tn.a)(rn()),fn=Object(h.a)(tn.b)(an()),bn=function(n){var e=Object(a.useState)(Array(35).fill(0)),t=Object(T.a)(e,2),o=t[0],i=t[1],c=[{name:"Janeiro",count:31},{name:"Fevereiro",count:28},{name:"Mar\xe7o",count:31},{name:"Abril",count:30},{name:"Maio",count:31},{name:"Junho",count:30},{name:"Julho",count:31},{name:"Agosto",count:31},{name:"Setembro",count:30},{name:"Outubro",count:31},{name:"Novembro",count:30},{name:"Dezembro",count:31}],u=Object(a.useState)(new Date),s=Object(T.a)(u,2),m=s[0],d=s[1],f=Object(a.useState)((new Date).getMonth()),b=Object(T.a)(f,2),g=b[0],p=b[1],h=Object(a.useState)(1),v=Object(T.a)(h,2),x=v[0],y=v[1],E=Object(a.useState)(null),j=Object(T.a)(E,2),O=j[0],k=j[1],w=Object(a.useState)(null),S=Object(T.a)(w,2),C=S[0],I=S[1],D=Object(l.c)((function(n){return n})),M=D.activeHabit,A=D.goals,N=function(n,e){var t=new Date(n);return t.setMonth(t.getMonth()+e),t.getMonth()};Object(a.useEffect)((function(){var n=null===M||void 0===M?void 0:M.goalIndex,e=null===M||void 0===M?void 0:M.habitIndex;if(!A.length||null===n||null===e)return I(null),void k(null);var t=A[n];console.log("goal",t),console.log("habitIndex",e);var a=t.habits[e];console.log("NEW HABIT",a);var r=t.deadends;I(a),k(r)}),[M,O,A]),Object(a.useEffect)((function(){if(console.log("habit",C),C){console.log("LOOP DATE");var n=function(n){return"".concat(n<10?"0"+n:n)},e=C.marks.map((function(n){return{date:new Date(n.createdAt).toLocaleDateString(),markation:n.markation}})),t=function(t,r,o){var i="".concat(n(t),"/").concat(n(r),"/").concat(11===N(a,-1)?a.getFullYear()-1:a.getFullYear()),l="".concat(n(r),"/").concat(n(t),"/").concat(11===N(a,-1)?a.getFullYear()-1:a.getFullYear());return{position:t,value:(e.length>0&&e.find((function(n){return n.date===i}))||{markation:0}).markation,inMonth:o,date:l}},a=m,r=a.getDay()-a.getDate()%7+1>0?a.getDay()-a.getDate()%7+1:a.getDay()-a.getDate()%7+7+1,o=Array(c[N(a,-1)].count).fill(null).map((function(n,e){return e+1})).map((function(n){return t(n,N(a,-1)+1,!1)})),l=Array(c[a.getMonth()].count).fill(null).map((function(n,e){return e+1})).map((function(n){return t(n,a.getMonth()+1,!0)})),u=Array(c[N(a,1)].count).fill(null).map((function(n,e){return e+1})).map((function(n){return t(n,N(a,1)+1,!1)})),s=o.length-r,d=r%7&&o.length,f=o.slice(s,d),b=42-(l.length+f.length),g=u.slice(0,b),p=f.concat(l).concat(g);i(p)}}),[m,g,C,M]);var H=Object(a.useCallback)((function(n,e,t,a,r){var l=Object(nn.a)(o);if(e&&t&&l[n].value!==a){var c=localStorage.getItem("habit_user")||"",u=JSON.parse(c);console.log("MARK USER",u),console.log("MARK HABIT",C),G.post("/users/".concat(u.id,"/goals/").concat(C.goal_id,"/habits/").concat(C.id,"/marks"),{markation:a}).then((function(){Q()("Parab\xe9ns","Aproveite sua recompensa da pr\xe1tica do seu h\xe1bito: ".concat(C.reward),"success"),l[n].value=a,i(l)})).catch((function(n){console.error(n),Q()("Ops","Ocorreu um erro ao salvar a marca\xe7\xe3o de seu h\xe1bito, por favor, tente mais tarde.","error")}))}}),[o,C]),z=Object(a.useCallback)((function(n){if(null===C||void 0===C?void 0:C.base){var e=Number(n.target.value);if(e<0)return void y(0);if(e>C.base)return void y(C.base);y(e)}}),[C]),_=Object(a.useCallback)((function(n,e){H(n,!0,!0,x,e)}),[x]),q=Object(a.useCallback)((function(n){var e=m;e.setMonth(e.getMonth()+n),d(e),p(e.getMonth())}),[m]);return C&&O?r.a.createElement(un,{className:n.className},r.a.createElement(dn,{onClick:function(){return q(-1)}}),r.a.createElement("section",null,r.a.createElement("h2",null,c[g].name," ",m.getFullYear()),r.a.createElement("ul",null,r.a.createElement("li",null,"Sun"),r.a.createElement("li",null,"Mon"),r.a.createElement("li",null,"Tue"),r.a.createElement("li",null,"Wed"),r.a.createElement("li",null,"Thu"),r.a.createElement("li",null,"Fri"),r.a.createElement("li",null,"Sat")),r.a.createElement(sn,null,o.map((function(n,e){var t=n.inMonth&&n.position===m.getDate()&&(new Date).getMonth()===g&&(new Date).getFullYear()===m.getFullYear(),a=function(n){var e=n.split(" ")[0].split("/"),t=Object(T.a)(e,3),a=t[0],r=t[1],o=t[2];return new Date("".concat(r,"/").concat(a,"/").concat(o))},o=a(new Date(C.createdAt).toLocaleString()),i=a(new Date(n.date).toLocaleDateString()),l=a((new Date).toLocaleDateString()),c=o<=i&&i<l,u=!!O.map((function(n){var e=n.limit.split("-"),t=Object(T.a)(e,3),a=t[0],r=t[1],o=t[2].split("T"),i=Object(T.a)(o,1)[0];return new Date("".concat(r,"/").concat(i,"/").concat(a))})).find((function(n){return n.valueOf()===i.valueOf()})),s=C.frequency.includes(e%7);return t&&1!==C.qualitative?r.a.createElement(en.a,{trigger:r.a.createElement(mn,{value:n.value/C.base,inMonth:n.inMonth,isToday:t,isDeadend:u,inGoal:c,inFrequency:s},n.position),onClose:function(){return _(e,u)},position:"top center"},r.a.createElement("div",{style:{height:"100px",width:"100px",backgroundColor:"white",display:"flex",flexDirection:"column"}},r.a.createElement("label",null,"Base: ",C.base),r.a.createElement("input",{type:"number",value:x,onChange:z,style:{width:"90%",margin:"1rem auto 0 auto"}}))):r.a.createElement(mn,{value:n.value,inMonth:n.inMonth,isToday:t,isDeadend:u,inGoal:c,inFrequency:s,onClick:function(){return H(e,t,s,1,u)}},n.position)})))),r.a.createElement(fn,{onClick:function(){return q(1)}})):null};function gn(){var n=Object(p.a)(["\n    display: flex; \n    align-items: center;\n\n    /* Image Container */\n    /* & > div {\n        width: 2.5vw; \n        height: 2.5vw; \n        margin-left: 20px; \n        border-radius: 50%; \n        background-color: gray;\n    } */\n\n    & > div {\n        top: 7rem;\n        right: 0;\n        width: 19.5rem;\n        height: 0rem;\n        position: absolute;\n        background-color: #8257e5;\n        transition: 0.15s all ease-in-out;\n        overflow: hidden;\n        padding: 0 1rem 0 1rem;\n\n        & > div {\n            height: 3rem;\n            cursor: pointer;\n        }\n    }\n\n    &:hover {\n        & > div {\n            padding: 1rem;\n            height: 10rem;\n        }\n    }\n"]);return gn=function(){return n},n}function pn(){var n=Object(p.a)(["\n    position: relative;\n    width: 100%;\n\n    & > header {\n        background-color: #8257e5;\n        color: white; \n        height: 7rem; \n        width: 100%;\n        padding-left: 2vw;\n        padding-right: 2vw;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: space-between;\n\n        & > h1 {\n            font-family: 'Saira Semi Condensed'; \n            font-size: 32px;\n        }\n    }\n\n    & > div { \n        display: flex;\n        min-height: 100vh;\n\n        & > section {\n            background-color: white; \n            width: 80vw;\n\n            & > ul {\n                display: flex; \n                justify-content: space-around; \n                align-items: center; \n                font-size: 24px; \n                color: #fff;\n                height: 7rem; \n                width: 100%;\n                list-style: none;\n\n                & > li {\n                    background-color: #a689ea;\n                    height: 100%;\n                    width: 100%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    cursor: pointer;\n                    transition: all 0.15s ease-in-out;\n\n                    &:hover {\n                        background-color: #8257e5;\n                    }\n                }\n            }\n\n            & > div {\n                background-color: white; \n                /* height: 90%;  */\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n\n                /* & > * {\n                    margin-top: 16px;\n                } */\n            }\n        }\n    }\n"]);return pn=function(){return n},n}var hn=h.a.div(pn()),vn=h.a.div(gn());function xn(){var n=Object(p.a)(["\n    width: 100%;\n    height: ","rem;\n    background-color: #6868ce;\n"]);return xn=function(){return n},n}function yn(){var n=Object(p.a)(["\n    width: 60rem;\n    height: 100%;\n    margin-bottom: 10vh;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-end;\n\n    & > div:not(:last-of-type) {\n        margin-right: 1.5rem;\n    }\n"]);return yn=function(){return n},n}function En(){var n=Object(p.a)(["\n    width: 60rem;\n    height: 100%;\n    padding-top: 10vh;\n    \n    /* table-layout: fixed; */\n\n    & > tr {\n        width: 100%;\n        line-height: 1.8;\n\n        & > td:first-child {\n            min-width: max-content;\n            width: 65%;\n            padding: 0 10px;\n        }\n\n        & > td {\n            width: 35%;\n            padding: 0 10px;\n        }\n    }\n"]);return En=function(){return n},n}function jn(){var n=Object(p.a)(["\n    width: 60rem;\n    height: 100%;\n    margin-bottom: 10vh;\n    background-color: #cecece;\n    display: flex;\n    flex-direction: column;\n\n    & > div:not(:last-of-type) {\n        margin-right: 1.5rem;\n    }\n"]);return jn=function(){return n},n}var On=h.a.div(jn()),kn=h.a.table(En()),wn=(h.a.div(yn()),h.a.div(xn(),(function(n){return n.percentage/100*50})),function(n){var e=Object(a.useState)({}),t=Object(T.a)(e,2),o=t[0],i=t[1],c=Object(l.c)((function(n){var e,t,a=null===n||void 0===n||null===(e=n.activeHabit)||void 0===e?void 0:e.goalIndex,r=null===n||void 0===n||null===(t=n.activeHabit)||void 0===t?void 0:t.habitIndex,o=null===n||void 0===n?void 0:n.goals[a];return o?{habit:null===o||void 0===o?void 0:o.habits[r]}:{habit:null}})).habit;return Object(a.useEffect)((function(){if(c){var n=localStorage.getItem("habit_user")||"",e=JSON.parse(n);G.get("/users/".concat(e.id,"/goals/").concat(c.goal_id,"/habits/").concat(c.id,"/statistics")).then((function(n){console.log("STATITICS",n.data),i(n.data)}))}}),[c]),!c||!o.biggerStreak&&0!==o.biggerStreak?null:r.a.createElement(On,{className:n.className},r.a.createElement(kn,null,r.a.createElement("tr",null,r.a.createElement("td",null,"Maior sequ\xeancia:"),r.a.createElement("td",null,o.biggerStreak," dias seguidos")),r.a.createElement("tr",null,r.a.createElement("td",null,"Total de dias em que o h\xe1bito foi praticado:"),r.a.createElement("td",null,o.totalCommitedDays," dias")),r.a.createElement("tr",null,r.a.createElement("td",null,"Total de dias de dura\xe7\xe3o do h\xe1bito:"),r.a.createElement("td",null,o.totalDays," dias")),r.a.createElement("tr",null,r.a.createElement("td",null,"Dias passados desde a cria\xe7\xe3o do h\xe1bito:"),r.a.createElement("td",null,o.actualDays," dias")),r.a.createElement("tr",null,r.a.createElement("td",null,"Porcentagem de realiza\xe7\xe3o total:"),r.a.createElement("td",null,o.totalPercentage,"%")),r.a.createElement("tr",null,r.a.createElement("td",null,"Porcentagem de realiza\xe7\xe3o relativa:"),r.a.createElement("td",null,o.actualPercentage,"%"))))}),Sn=function(){var n=localStorage.getItem("habit_user");return JSON.parse(n)};function Cn(){var n=Object(p.a)(["\n    position: relative;\n    font-size: 20px;\n    margin-left: 8px;\n"]);return Cn=function(){return n},n}function In(){var n=Object(p.a)(["\n    position: relative;\n    font-size: 20px;\n"]);return In=function(){return n},n}function Dn(){var n=Object(p.a)(["\n    position: relative;\n    font-size: 20px;\n    color: #ce6868;\n    margin-left: 8px;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(p.a)(["\n    display: flex;\n    &:hover {\n        display: flex;\n    }\n"]);return Mn=function(){return n},n}function An(){var n=Object(p.a)(["\n    position: relative;\n    margin: 1rem -1rem 1rem -1rem;\n    padding: 0.8rem 1rem;\n    display: flex;\n    justify-content: space-between;\n\n    background-color: ",";\n\n    & > span {\n        display: ",";\n    }\n\n    &:hover {\n        color: #fff;\n        background-color: #474747;\n\n        & > span {\n            display: flex;\n        }\n    }\n"]);return An=function(){return n},n}function Tn(){var n=Object(p.a)(["\n    position: relative;\n    font-size: 1.5rem;\n    width: 100%;\n    cursor: pointer;\n    user-select: none;\n    padding: 1rem;\n\n    border-bottom: 1px solid #bbb;\n    transition: 0.15s all ease-in-out;\n    \n    color: ",";\n    background-color: ",";\n\n    &:hover {\n        color: #fff;\n        background-color: #686868;\n    }\n\n    & > div {\n        font-size: 1.3rem;\n        \n        & > p {\n            margin: 1rem -1rem 1rem -1rem;\n            padding: 0.8rem 1rem;\n            &:hover {\n                color: #fff;\n                background-color: #474747;\n            }\n        }\n    }\n\n    & > span {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n    }\n"]);return Tn=function(){return n},n}function Nn(){var n=Object(p.a)(["\n    background-color: #cccccc; \n    width: 20vw;\n    padding-top: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > h2 {\n        font-size: 32px;\n        display: flex;\n    }\n\n    & > button {\n        width: 80%;\n        margin: 0.5rem 0 0 0;\n        padding: 1rem;\n        background-color: #a689ea;\n        color: #fff;\n        border: none;\n        border-radius: 0.5rem;\n        cursor: pointer;\n        transition: all 0.15s ease-in-out;\n\n        &:hover {\n            background-color: #8257e5;\n        }\n    }\n\n    & > ul {\n        width: 80%;\n        margin-top: 2.5rem;\n        display: flex; \n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        list-style: none;\n    }\n"]);return Nn=function(){return n},n}var Hn=h.a.aside(Nn()),zn=h.a.li(Tn(),(function(n){return n.active&&"#fff"}),(function(n){return n.active&&"#686868"})),_n=h.a.li(An(),(function(n){return n.active&&"#474747"}),(function(n){return n.active?"flex":"none"})),qn=h.a.span(Mn()),Jn=h.a.span(Dn()),Fn=h.a.span(In()),Ln=h.a.span(Cn()),Pn="GOALS",Rn=[];function Gn(n){return{type:Pn,payload:n}}var Bn=localStorage.getItem("habit_active")?{goalIndex:JSON.parse(localStorage.getItem("habit_active")).goalIndex||0,habitIndex:JSON.parse(localStorage.getItem("habit_active")).habitIndex||0}:{goalIndex:0,habitIndex:0},Qn="active_habit/ACTIVE_HABIT";function Wn(n){return console.log("index",n),{type:Qn,payload:n}}var Yn={screen:"category"},Un="GOAL_MODAL";function Kn(n){return{type:Un,payload:n}}var Vn=t(6),Xn=t(31),Zn=t.n(Xn);function $n(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    max-width: 70rem;\n\n    & > h1 {\n        width: calc(100% - 2rem);\n        margin-top: -2rem;\n        padding-bottom: 1.6rem;\n        border-bottom: 1px solid var(--color-line-in-white);\n    }\n\n    & > ul {\n        display: flex;\n        flex-wrap: wrap;\n        margin-top: 2rem;\n\n        & > li {\n            list-style: none;\n            text-align: center;\n            \n            background-color: #cecece;\n            width: 15rem;\n            height: 15rem;\n            margin: 1rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            cursor: pointer;\n            transition: all 0.15s ease-in-out;\n\n            &:hover {\n                background-color: #bababa;\n            }\n        }\n    }\n"]);return $n=function(){return n},n}var ne=h.a.div($n()),ee=function(n){return r.a.createElement(ne,null,r.a.createElement("h1",null,"Escolha o tipo"),r.a.createElement("ul",null,["Sa\xfade","Estudo","Trabalho","Desenvolvimento Pessoal"].map((function(e){return r.a.createElement("li",{onClick:function(){return n.handleCategory(e)}},e)}))))},te=(t(137),function(n){var e=n.label,t=n.name,a=Object(_.a)(n,["label","name"]);return r.a.createElement("div",{className:"textarea-block"},r.a.createElement("label",{htmlFor:t},e),r.a.createElement("textarea",Object.assign({id:t,name:t},a)))});function ae(){var n=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    color: ",";\n    background-color: ",";\n    width: 32px;\n    height: 32px;\n    margin-right: 8px;\n    cursor: pointer;\n    transition: all 0.15s ease-in-out;\n\n    &:hover {\n        background-color: #bababa;\n    }\n"]);return ae=function(){return n},n}function re(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 8px;\n\n    & > ul {\n        display: flex;\n        list-style: none;\n    }\n"]);return re=function(){return n},n}var oe=h.a.div(re()),ie=h.a.li(ae(),(function(n){return n.marked&&"#fff"}),(function(n){return n.marked?"#686868":"#cecece"})),le=function(n){return n.weekDays&&n.weekDays.length?r.a.createElement(oe,null,"Frequ\xeancia",r.a.createElement("ul",null,n.weekDays.map((function(e,t){return r.a.createElement(ie,{onClick:function(){return n.handleWeekDaysChange(t)},marked:e.marked},e.symbol)})))):null};function ce(){var n=Object(p.a)(["\n    font-size: 60px;\n    margin-top: 2.5rem;\n    cursor: pointer;\n"]);return ce=function(){return n},n}function ue(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    max-width: 70rem;\n\n    & > h1 {\n        width: 100%;\n        margin-top: -2rem;\n        padding-bottom: 1.6rem;\n        border-bottom: 1px solid var(--color-line-in-white);\n    }\n\n    & > form {\n        width: 100%;\n        margin-top: 5rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        \n        & > button {\n            width: 100%;\n            height: 5.6rem;\n            background: var(--color-secundary);\n            color: var(--color-button-text);\n            border: 0;\n            border-radius: 0.8rem;\n            cursor: pointer;\n            font: 700 1.6rem Archivo;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-decoration: none;\n            transition: background-color 0.2s;\n            margin-top: 3.2rem;\n\n            &:hover {\n                background: var(--color-secundary-dark);\n            }\n        }\n\n        & > fieldset {\n            border: none;\n            padding: 0;\n        }\n\n        & > fieldset:not(:first-of-type) {\n            margin-top: 5rem;\n        }\n    }\n"]);return ue=function(){return n},n}var se=h.a.div(ue()),me=Object(h.a)(tn.d)(ce()),de=function(n){var e=Object(l.c)((function(n){return{goals:n.goals,activeHabit:n.activeHabit}})),t=e.goals,o=e.activeHabit,i=Object(a.useState)([{title:"",description:"",reward:"",frequency:[],qualitative:1,base:0,weekDays:[{symbol:"D",marked:!1},{symbol:"S",marked:!1},{symbol:"T",marked:!1},{symbol:"Q",marked:!1},{symbol:"Q",marked:!1},{symbol:"S",marked:!1},{symbol:"S",marked:!1}],goal_id:t[o.goalIndex].id}]),c=Object(T.a)(i,2),u=c[0],s=c[1],m=Object(a.useCallback)((function(n,e){var t=Object(nn.a)(u);t[n].weekDays[e].marked=!t[n].weekDays[e].marked,t[n].frequency=t[n].weekDays.map((function(n,e){return n.marked?e:-1})).filter((function(n){return n>-1})),s(t)}),[u]),d=Object(a.useCallback)((function(n,e){var t=Object(nn.a)(u);t[e][n.target.name]=n.target.value,s(t)}),[u]),f=Object(a.useCallback)((function(n,e){var t=Object(nn.a)(u);t[e][n.target.name]=n.target.value,s(t)}),[u]),b=Object(a.useCallback)((function(n,e){var t=Object(nn.a)(u);t[e][n.target.name]=n.target.checked?1:0,s(t)}),[u]),g=Object(a.useCallback)((function(){var n=Object(nn.a)(u);n.push({title:"",description:"",reward:"",weekDays:[{symbol:"D",marked:!1},{symbol:"S",marked:!1},{symbol:"T",marked:!1},{symbol:"Q",marked:!1},{symbol:"Q",marked:!1},{symbol:"S",marked:!1},{symbol:"S",marked:!1}],goal_id:t[o.goalIndex].id}),s(n)}),[o,t,u]);return r.a.createElement(se,null,r.a.createElement("h1",null,"H\xe1bitos para a meta"),r.a.createElement("form",{onSubmit:function(){return n.handleHabits(u)}},u.map((function(n,e){return r.a.createElement("fieldset",null,r.a.createElement(q,{name:"title",label:"T\xedtulo",value:n.title,onChange:function(n){return f(n,e)}}),r.a.createElement(te,{name:"description",label:"Descri\xe7\xe3o",value:n.description,onChange:function(n){return d(n,e)}}),r.a.createElement(te,{name:"reward",label:"Recompensa",value:n.reward,onChange:function(n){return d(n,e)}}),r.a.createElement("label",null,"Qualitativo"),r.a.createElement("input",{type:"checkbox",name:"qualitative",checked:1===n.qualitative,onChange:function(n){return b(n,e)}}),r.a.createElement("label",null,"Base"),r.a.createElement("input",{name:"base",value:n.base,onChange:function(n){return f(n,e)}}),r.a.createElement(le,{handleWeekDaysChange:function(n){return m(e,n)},weekDays:n.weekDays}))})),r.a.createElement(me,{onClick:g}),r.a.createElement("button",null,"Criar H\xe1bito")))};function fe(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 8px;\n\n    & > input[type=date] {\n        border: none;\n        margin-top: 5px;\n    }\n"]);return fe=function(){return n},n}var be=h.a.div(fe()),ge=function(n){return r.a.createElement(be,null,"Deadend",r.a.createElement("input",{type:"date",value:n.value,onChange:n.onChange}))};function pe(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    max-width: 70rem;\n\n    & > h1 {\n        width: 100%;\n        margin-top: -2rem;\n        padding-bottom: 1.6rem;\n        border-bottom: 1px solid var(--color-line-in-white);\n    }\n\n    & > form {\n        margin-top: 5rem;\n        \n        & > button {\n            width: 100%;\n            height: 5.6rem;\n            background: var(--color-secundary);\n            color: var(--color-button-text);\n            border: 0;\n            border-radius: 0.8rem;\n            cursor: pointer;\n            font: 700 1.6rem Archivo;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-decoration: none;\n            transition: background-color 0.2s;\n            margin-top: 3.2rem;\n\n            &:hover {\n                background: var(--color-secundary-dark);\n            }\n        }\n    }\n"]);return pe=function(){return n},n}var he=h.a.div(pe()),ve=function(n){var e=Object(a.useState)({title:"",description:"",reward:"",limitDate:""}),t=Object(T.a)(e,2),o=t[0],i=t[1],l=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},o);e[n.target.name]=n.target.value,i(e)}),[o]),c=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},o);e.limitDate=n.target.value,i(e)}),[o]);return r.a.createElement(he,null,r.a.createElement("h1",null,"Defina sua meta"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.handleGoal(o)}},r.a.createElement(q,{name:"title",label:"T\xedtulo",value:o.title,onChange:l}),r.a.createElement(te,{name:"description",label:"Descri\xe7\xe3o",value:o.description,onChange:l}),r.a.createElement(te,{name:"reward",label:"Recompensa",value:o.reward,onChange:l}),r.a.createElement(ge,{value:o.limitDate,onChange:c}),r.a.createElement("button",null,"Criar meta")))},xe=function(n){var e=Object(l.b)(),t=Object(a.useState)(""),o=Object(T.a)(t,2),i=o[0],c=o[1],u=Object(l.c)((function(n){return n.goals})),s=Object(l.c)((function(n){return n.goalModal})),m=Object(l.c)((function(n){return n.activeHabit})),d=Object(a.useCallback)((function(t){var a=localStorage.getItem("habit_user"),r=JSON.parse(a);G.post("users/".concat(r.id,"/habits"),{habits:t}).then((function(n){var t=Object(nn.a)(u),a=n.data.map((function(n){return Object(Vn.a)({},n,{marks:[]})}));t[m.goalIndex].habits=t[m.goalIndex].habits.concat(a),e(Gn(t)),e(Wn({goalIndex:m.goalIndex,habitIndex:t[m.goalIndex].habits.length-1}))})),n.setIsModalOpen(!1),e(Kn({screen:"category"}))}),[u,m,n]),f=Object(a.useCallback)(function(){var n=Object(A.a)(M.a.mark((function n(t){var a,r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=localStorage.getItem("habit_user"),r=JSON.parse(a),G.post("users/".concat(r.id,"/goals"),Object(Vn.a)({},t,{type:i,active:1})).then((function(n){var t=Object(nn.a)(u);t.push(n.data.goals),e(Gn(t)),e(Wn({goalIndex:t.length-1,habitIndex:0})),e(Kn({screen:"habits"}))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[i,u]),b=Object(a.useCallback)((function(n){c(n),e(Kn({screen:"goal"}))}),[]);return r.a.createElement(Zn.a,{isOpen:n.isModalOpen,onRequestClose:function(){return n.setIsModalOpen(!1)},style:{overlay:{backgroundColor:"rgba(0,0,0,.87)"},content:{display:"flex",flexDirection:"column",alignItems:"center"}}},"category"===s.screen&&r.a.createElement(ee,{handleCategory:b}),"goal"===s.screen&&r.a.createElement(ve,{handleGoal:f}),"habits"===s.screen&&r.a.createElement(de,{handleHabits:d,goal_id:u[u.length-1].id}))};function ye(){var n=Object(p.a)(["\n    font-size: 60px;\n    margin-top: 2.5rem;\n    cursor: pointer;\n"]);return ye=function(){return n},n}function Ee(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    max-width: 70rem;\n\n    & > h1 {\n        width: 100%;\n        margin-top: -2rem;\n        padding-bottom: 1.6rem;\n        border-bottom: 1px solid var(--color-line-in-white);\n    }\n\n    & > form {\n        width: 100%;\n        margin-top: 5rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        \n        & > button {\n            width: 100%;\n            height: 5.6rem;\n            background: var(--color-secundary);\n            color: var(--color-button-text);\n            border: 0;\n            border-radius: 0.8rem;\n            cursor: pointer;\n            font: 700 1.6rem Archivo;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-decoration: none;\n            transition: background-color 0.2s;\n            margin-top: 3.2rem;\n\n            &:hover {\n                background: var(--color-secundary-dark);\n            }\n        }\n\n        & > fieldset {\n            border: none;\n            padding: 0;\n        }\n\n        & > fieldset:not(:first-of-type) {\n            margin-top: 5rem;\n        }\n    }\n"]);return Ee=function(){return n},n}var je=h.a.div(Ee()),Oe=(Object(h.a)(tn.d)(ye()),function(n){var e=Object(l.c)((function(n){return{goals:n.goals,activeHabit:n.activeHabit}})),t=e.goals,o=e.activeHabit,i=Object(a.useState)({}),c=Object(T.a)(i,2),u=c[0],s=c[1];Object(a.useEffect)((function(){var n=t[o.goalIndex].habits[o.habitIndex];console.log("newHabit",n);n.weekDays=["D","S","T","Q","Q","S","S"].map((function(e,t){return{symbol:e,marked:n.frequency.includes(t)}})),s(n)}),[t,o]);var m=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},u);e.weekDays[n].marked=!e.weekDays[n].marked,e.frequency=e.weekDays.map((function(n,e){return n.marked?e:-1})).filter((function(n){return n>-1})),s(e)}),[u]),d=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},u);e[n.target.name]=n.target.value,s(e)}),[u]),f=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},u);e[n.target.name]=n.target.value,s(e)}),[u]),b=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},u);e[n.target.name]=n.target.checked?1:0,s(e)}),[u]);return r.a.createElement(je,null,r.a.createElement("h1",null,"H\xe1bitos para a meta"),r.a.createElement("form",{onSubmit:function(){return n.handleHabit(u)}},r.a.createElement("fieldset",null,r.a.createElement(q,{name:"title",label:"T\xedtulo",value:u.title,onChange:f}),r.a.createElement(te,{name:"description",label:"Descri\xe7\xe3o",value:u.description,onChange:d}),r.a.createElement(te,{name:"reward",label:"Recompensa",value:u.reward,onChange:d}),r.a.createElement("label",null,"Qualitativo"),r.a.createElement("input",{type:"checkbox",name:"qualitative",checked:1===u.qualitative,onChange:b}),r.a.createElement("label",null,"Base"),r.a.createElement("input",{name:"base",value:u.base,onChange:f}),r.a.createElement(le,{handleWeekDaysChange:function(n){return m(n)},weekDays:u.weekDays}),r.a.createElement("button",null,"Editar meta"))))});function ke(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    max-width: 70rem;\n\n    & > h1 {\n        width: 100%;\n        margin-top: -2rem;\n        padding-bottom: 1.6rem;\n        border-bottom: 1px solid var(--color-line-in-white);\n    }\n\n    & > form {\n        margin-top: 5rem;\n        \n        & > button {\n            width: 100%;\n            height: 5.6rem;\n            background: var(--color-secundary);\n            color: var(--color-button-text);\n            border: 0;\n            border-radius: 0.8rem;\n            cursor: pointer;\n            font: 700 1.6rem Archivo;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-decoration: none;\n            transition: background-color 0.2s;\n            margin-top: 3.2rem;\n\n            &:hover {\n                background: var(--color-secundary-dark);\n            }\n        }\n    }\n"]);return ke=function(){return n},n}var we=h.a.div(ke()),Se=function(n){var e=Object(a.useState)({title:"",description:"",reward:"",limitDate:""}),t=Object(T.a)(e,2),o=t[0],i=t[1],c=Object(l.c)((function(n){return n.goals})),u=Object(l.c)((function(n){return n.activeHabit}));Object(a.useEffect)((function(){G.get("/users/".concat(Sn().id,"/goals/").concat(c[u.goalIndex].id)).then((function(n){var e=n.data,t=e.title,a=e.reward,r=e.description,o=e.deadends.pop().limit.split("T")[0];i({title:t,reward:a,description:r,limitDate:o})}))}),[c,u]);var s=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},o);e[n.target.name]=n.target.value,i(e)}),[o]),m=Object(a.useCallback)((function(n){var e=Object(Vn.a)({},o);e.limitDate=n.target.value,i(e)}),[o]);return r.a.createElement(we,null,r.a.createElement("h1",null,"Defina sua metaa"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.handleGoal(o)}},r.a.createElement(q,{name:"title",label:"T\xedtulo",value:o.title,onChange:s}),r.a.createElement(te,{name:"description",label:"Descri\xe7\xe3o",value:o.description,onChange:s}),r.a.createElement(te,{name:"reward",label:"Recompensa",value:o.reward,onChange:s}),r.a.createElement(ge,{value:o.limitDate,onChange:m}),r.a.createElement("button",null,"Editar meta")))},Ce=function(n){var e=Object(l.b)(),t=Object(l.c)((function(n){return n.goals})),o=Object(l.c)((function(n){return n.goalModal})),i=Object(l.c)((function(n){return n.activeHabit})),c=Object(a.useCallback)((function(a){var r=localStorage.getItem("habit_user"),o=JSON.parse(r);console.log("habit",a);var l=t[i.goalIndex].id,c=t[i.goalIndex].habits[i.habitIndex].id;G.put("users/".concat(o.id,"/goals/").concat(l,"/habits/").concat(c),a).then((function(n){var a=Object(nn.a)(t);a[i.goalIndex].habits[i.habitIndex]=n.data,console.log("res data",n.data),console.log("NEW GOALS",a),e(Gn(a))})),n.setIsModalOpen(!1)}),[i.goalIndex,i.habitIndex,e,t,n]),u=Object(a.useCallback)((function(a){var r=localStorage.getItem("habit_user"),o=JSON.parse(r);G.put("users/".concat(o.id,"/goals/").concat(t[i.goalIndex].id),Object(Vn.a)({},a)).then((function(n){var a=Object(nn.a)(t);a[i.goalIndex]=n.data,e(Gn(a))})),n.setIsModalOpen(!1)}),[i.goalIndex,e,t,n]);return r.a.createElement(Zn.a,{isOpen:n.isModalOpen,onRequestClose:function(){return n.setIsModalOpen(!1)},style:{overlay:{backgroundColor:"rgba(0,0,0,.87)"},content:{display:"flex",flexDirection:"column",alignItems:"center"}}},"goal"===o.screen&&r.a.createElement(Se,{handleGoal:u}),"habits"===o.screen&&r.a.createElement(Oe,{handleHabit:c}))},Ie=function(n){var e=Object(l.b)(),t=Object(a.useState)(!1),o=Object(T.a)(t,2),i=o[0],c=o[1],u=Object(a.useState)(!1),s=Object(T.a)(u,2),m=s[0],d=s[1],f=Object(l.c)((function(n){return n.goals})),b=Object(l.c)((function(n){return n.activeHabit}));Object(a.useEffect)((function(){console.log("DISPATCH"),G.get("users/".concat(Sn().id)).then((function(n){e(Gn(n.data.goals))})).catch((function(n){console.error(n)}))}),[]);var g=Object(a.useCallback)((function(n){var t={goalIndex:n,habitIndex:0};localStorage.setItem("habit_active",JSON.stringify(t)),e(Wn(t))}),[]),p=Object(a.useCallback)((function(n,t){var a={goalIndex:n,habitIndex:t};localStorage.setItem("habit_active",JSON.stringify(a)),e(Wn(a))}),[]),h=Object(a.useCallback)((function(n,t){Q()("Tem certeza que quer deletar este h\xe1bito ?").then((function(a){a&&G.delete("users/".concat(Sn().id,"/goals/").concat(f[n].id,"/habits/").concat(f[n].habits[t].id)).then((function(a){var r=Object(nn.a)(f),o=f[n].habits[t];r[n].habits=r[n].habits.filter((function(n){return n.id!==o.id})),e(Gn(r))}))}))}),[f]),v=Object(a.useCallback)((function(n){Q()("Tem certeza que quer deletar esta meta ?").then((function(t){t&&G.delete("users/".concat(Sn().id,"/goals/").concat(f[n].id)).then((function(t){var a=f[n],r=Object(nn.a)(f).filter((function(n){return n.id!==a.id}));g(n),e(Gn(r))}))}))}),[f]);return r.a.createElement(Hn,null,r.a.createElement("button",{onClick:function(){return c(!0)}},"Cadastrar Meta"),r.a.createElement("ul",null,f.map((function(n,t){var a=t===b.goalIndex;return r.a.createElement(zn,{active:a},r.a.createElement("span",{onClick:function(){return g(t)}},r.a.createElement("p",null,n.title),r.a.createElement(qn,null,r.a.createElement(Fn,{onClick:function(){e(Kn({screen:"habits"})),c(!0)}},r.a.createElement(tn.d,null)),r.a.createElement(Ln,{onClick:function(){e(Kn({screen:"goal"})),e(Wn({goalIndex:t,habitIndex:0})),d(!0)}},r.a.createElement(tn.c,null)),r.a.createElement(Jn,{onClick:function(){return v(t)}},r.a.createElement(tn.e,null)))),r.a.createElement("div",null,a&&(null===n||void 0===n?void 0:n.habits.map((function(n,a){var o=b.goalIndex===t&&b.habitIndex===a;return r.a.createElement(_n,{active:o,onClick:function(){return p(t,a)}},r.a.createElement("p",null,n.title),r.a.createElement(qn,null,r.a.createElement(Ln,{onClick:function(){e(Kn({screen:"habits"})),e(Wn({goalIndex:t,habitIndex:a})),d(!0)}},r.a.createElement(tn.c,null)),r.a.createElement(Jn,{onClick:function(){return h(t,a)}},r.a.createElement(tn.e,null))))})))))}))),r.a.createElement(xe,{isModalOpen:i,setIsModalOpen:c}),r.a.createElement(Ce,{isModalOpen:m,setIsModalOpen:d}))},De=function(){var n=Object(u.e)(),e=function(n){var e,t,a,r,o=null===(e=window)||void 0===e?void 0:e.scrollY,i=((null===(t=document)||void 0===t||null===(a=t.querySelector(n))||void 0===a||null===(r=a.getBoundingClientRect())||void 0===r?void 0:r.top)||0)+o;window.scroll({top:i-100,behavior:"smooth"})};return r.a.createElement(hn,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Habit Tracker"),r.a.createElement(vn,null,"Ol\xe1, ",Sn().name," !",r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){n.push("/profile/edit")}},"Editar perfil"),r.a.createElement("div",{onClick:function(){localStorage.removeItem("habit_user"),window.location.href="/"}},"Sair")))),r.a.createElement("div",null,r.a.createElement(Ie,null),r.a.createElement("section",null,r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return e(".calendar")}},"Tracker"),r.a.createElement("li",{onClick:function(){return e(".statistics")}},"Estat\xedsticas")),r.a.createElement("div",null,r.a.createElement(bn,{className:"calendar"}),r.a.createElement(wn,{className:"statistics"})))))};function Me(){var n=Object(p.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    max-width: 700px;\n\n    & > .page-header > .header-content {\n        margin-bottom: 6.4rem;\n    }\n\n    & > main {\n        background: var(--color-box-base);\n        width: 100%;\n        max-width: 74rem;\n        border-radius: 0.8rem;\n        margin: -3.2rem auto 3.2rem;\n        padding-top: 6.4rem;\n        overflow: hidden;\n\n        & > form {\n            & > fieldset {\n                border: 0;\n                padding: 0 2.4rem;\n\n                & > .input-block + .textarea-block,\n                & > .select-block + .input-block {\n                    margin-top: 2.4rem;\n                }\n            \n                & > legend {\n                    font: 700 2.4rem Archivo;\n                    color: var(--color-text-title);\n                    margin-bottom: 2.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    width: 100%;\n                    padding-bottom: 1.6rem;\n                    border-bottom: 1px solid var(--color-line-in-white);\n\n                    & > button {\n                        background: none;\n                        border: none;\n                        color: var(--color-primary);\n                        font: 700 1.6rem Archivo;\n                        cursor: pointer;\n                        transition: color 0.2s;\n                        \n                        &:hover {\n                            color: var(--color-primary-dark);\n                        }\n                    }\n                }\n\n                & > label {\n                    color: var(--color-text-complement);\n                }\n            }\n\n            & > fieldset + fieldset {\n                margin-top: 6.4rem;\n            }\n\n            & > footer {\n                padding: 4rem 2.4rem;\n                background: var(--color-box-footer);\n                border-top: 1px solid var(--color-line-in-white);\n                margin-top: 6.4rem;\n\n                & > p {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 1.4rem;\n                    line-height: 2.4rem;\n                    color: var(--color-text-complement);\n\n                    & > img {\n                        margin-right: 2rem;\n                    }\n                }\n\n                & > button {\n                    width: 100%;\n                    height: 5.6rem;\n                    background: var(--color-secundary);\n                    color: var(--color-button-text);\n                    border: 0;\n                    border-radius: 0.8rem;\n                    cursor: pointer;\n                    font: 700 1.6rem Archivo;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-decoration: none;\n                    transition: background-color 0.2s;\n                    margin-top: 3.2rem;\n\n                    &:hover {\n                        background: var(--color-secundary-dark);\n                    }\n                }\n            }\n        } \n    }\n\n    @media (min-width: 700px) {\n        max-width: 100vw;\n\n         & > .page-header > .header-content {\n            margin-bottom: 0;\n        }\n\n        & > main {\n            & > form  {\n                & > fieldset {\n                    padding: 0 6.4rem;\n                }\n\n                & > .schedule-item {\n                    display: grid;\n                    grid-template-columns: 2fr 1fr 1fr;\n                    column-gap: 1.6rem;\n\n                    & > .input-block {\n                        margin-top: 0 !important;\n                    }\n                }\n\n                & > footer {\n                    padding: 4rem 6.4rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n\n                    & > p {\n                        justify-content: space-between;\n                    }\n\n                    & > button {\n                        width: 20rem;\n                        margin-top: 0;\n                    }\n                }\n            }\n        }\n    }\n"]);return Me=function(){return n},n}var Ae=h.a.div(Me()),Te=function(){var n=Object(u.e)(),e=Object(a.useState)(""),t=Object(T.a)(e,2),o=t[0],i=t[1],l=Object(a.useState)(""),c=Object(T.a)(l,2),s=c[0],m=c[1];Object(a.useEffect)((function(){G.get("users/".concat(Sn().id)).then((function(n){var e=n.data,t=e.name,a=e.email;i(t),m(a)}))}),[]);var d=function(){var e=Object(A.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),G.put("users/".concat(Sn().id),{name:o,email:s}).then((function(e){var t=localStorage.getItem("habit_user")||"",a=JSON.parse(t);a.name=e.data.name,a.email=e.data.email,localStorage.setItem("habit_user",JSON.stringify(a)),n.push("/profile")})).catch((function(n){409===n.response.status&&Q()("Email j\xe1 cadastrado !","Por favor, insira outro email.","error"),404===n.response.status&&Q()("Erro no formul\xe1rio !","Por favor, reveja os campos.","error")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Ae,null,r.a.createElement(z,{title:"Seja o mestre do seu destino!",description:"O primeiro passo \xe9 preencher este formul\xe1rio de incri\xe7\xe3o."}),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:d},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Seus dados"),r.a.createElement(q,{name:"name",label:"Nome completo",value:o,onChange:function(n){return i(n.target.value)}}),r.a.createElement(q,{name:"email",label:"Email",value:s,onChange:function(n){return m(n.target.value)}})),r.a.createElement("footer",null,r.a.createElement("button",{type:"submit"},"Atualizar perfil")))))};var Ne=function(){return r.a.createElement(c.a,null,r.a.createElement(u.a,{path:"/",exact:!0,component:localStorage.getItem("habit_user")?De:I}),r.a.createElement(u.a,{path:"/signin",component:V}),r.a.createElement(u.a,{path:"/signup",component:$}),r.a.createElement(u.a,{exact:!0,path:"/profile",component:De}),r.a.createElement(u.a,{path:"/profile/edit",component:Te}))},He=t(23),ze="CHANGE_USER",_e={};var qe=Object(He.c)({userCourses:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ze:return n=e.payload,Object(Vn.a)({},n);default:return n}},goals:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Pn:return n=e.payload;default:return n}},activeHabit:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Qn:return n=e.payload;default:return n}},goalModal:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Un:return n=e.payload;default:return n}}}),Je=t(77),Fe=function(){return Object(He.d)(qe,Object(He.a)(Je.a))}();var Le=function(){return r.a.createElement(l.a,{store:Fe},r.a.createElement(Ne,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root"))},30:function(n,e,t){n.exports=t.p+"static/media/warning.6dfaa2f9.svg"},69:function(n,e,t){n.exports=t.p+"static/media/landing.211f2bb0.svg"},70:function(n,e,t){n.exports=t.p+"static/media/study.e7a7e1b4.svg"},71:function(n,e,t){n.exports=t.p+"static/media/give-classes.156102ee.svg"},75:function(n,e,t){n.exports=t.p+"static/media/back.dc8c47fa.svg"},78:function(n,e,t){n.exports=t(138)},87:function(n,e,t){},90:function(n,e,t){},91:function(n,e,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.c35b21d5.chunk.js.map